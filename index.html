<!doctype html>
<html lang="en">
<head>

	<meta charset="utf-8">
	
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>.COMMAND</title>
	
	<meta name="title" content=".COMMAND">
	<meta name="description" content=".COMMAND application architecture prototype">
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Command Alkon">
	<meta name="Copyright" content="Copyright Command Alkon, Inc 2012. All Rights Reserved.">

	<!-- Facebook sharing. http://developers.facebook.com/docs/opengraph/ -->
    <meta property="og:site_name" content=".COMMAND Prototype" />
	<meta property="og:title" content=".COMMAND Prototype" />
    <meta property="og:description" content=".COMMAND - the next generation of Construction Materials Management." />
    <meta property="og:image" content="" /> <!-- Thumbnail for sharing. Use absolute URL. Minimum 50x50 -->
	<meta property="og:type" content="" /><!-- http://developers.facebook.com/docs/opengraph/#types -->
	
	<!-- Mobile friendly meta data from Mobile HTML5 Boilerplate -->
	<meta http-equiv="cleartype" content="on">
	<meta name="apple-mobile-web-app-capable" content="yes">

	<link rel="shortcut icon" href="img/favicon.ico">
	<link rel="apple-touch-icon" href="img/app-icon.png">
	<!-- - size: 114x114
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - No transparency -->
	
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/main.css">
		
	<!-- Google is a great source for web fonts -->	
	<link  href="http://fonts.googleapis.com/css?family=Nunito:700&v1" rel="stylesheet" type="text/css" >
	
	<!-- Viewport setting for proper display on devices -->	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	
	<!-- sizeit.js for screen size detection. http://johnpolacek.com/sizeit -->	
	<script src="js/lib/sizeit.min.js"></script>
	<script>
		sizeit.configure(
			{
				max: 600,
				css: "css/small.css",
				name: "small"
			},
			{
				css: "css/large.css",
				name: "large"
			}
		);
	</script>
</head>

<body>
    <div id="wrapper">
        
        <div id="header">
            <h1>.COMMAND </h1>
        </div>
        
        <div id="content">
		</div>
        
        <div id="error">
			<p id="error-display" class="error-text" data-bind="text: Error, visible: Error().length > 0"></p>
		</div>
		
        <div id="footer">
			<div id="footer-links">
				<span id="footer-user"></span>
				<a href="#" id="button-about">About</a>
				<a href="http://www.commandalkon.com/contact.asp" id="button-contact" target="_blank">Contact</a>
				<a href="#" id="button-signout" data-bind="click: signOut, visible: User() != null">Sign Out</a>
			</div>
            <p>Remarkable products for the Construction Materials Industry by <a href="http://www.commandalkon.com">Command Alkon, Inc</a></p>
        </div>
        
    </div>
    
	<!-- TEMPLATES -->
    <script id="logonTemplate" type="text/x-handlebars-template">
		<div id="logon" class="page">
			<h1>Welcome</h1>
			<form id="form-logon" data-bind="submit: logon">
				<fieldset>
					<legend>Please Log on</legend>
					<p>
						<label for="logon-username">Username: </label>
						<input type="text" id="logon-username" name="username" data-bind="value: userName">
					</p>
					<p>
						<label for="logon-password">Password: </label>
						<input type="password" id="logon-password" name="password" data-bind="value: userPassword">
					</p>
					<button id="logon-submit" type="submit" class="submit-button">Log On</button>
					<!--a href="#" class="button submit-button" id="logon-submit">Log on</a-->
				</fieldset>
			</form>
		</div>
    </script>
	
    <script id="roleTemplate" type="text/x-handlebars-template">
        <div id="create-role">
            <input id="new-role" data-bind="value: newRole, valueUpdate: 'afterkeydown', enterKey: addRole" placeholder="Enter a role" />
            <span class="ui-tooltip-top" data-bind="visible: showTooltip" style="display: none;">Press Enter to save this role</span>
        </div>
	
        <div id="roles">
            <ul id="role-list" data-bind="foreach: Roles">
                <li data-bind="css: { editing: editing }">
                    <div class="role">
                        <div class="role-display">
                            <div class="role-content" data-bind="text: Name, event: { dblclick: edit }" style="cursor: pointer;"></div>
                            <span class="role-destroy" data-bind="click: $root.deleteRole"></span>
                        </div>
                        <div class="edit">
                            <input class="role-input" data-bind="value: Name, valueUpdate: 'afterkeydown', enterKey: $root.updateRole, event: { blur: stopEditing }"/>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
	    <ul id="role-instructions">
	        <li data-bind="visible: Roles().length">Double-click to edit a role.</li>
	    </ul>
		
    </script>
	
    <script id="dashboardTemplate" type="text/x-handlebars-template">
		<div id="dashboard">
			<div id="dashboarddetail" class="dashboarddetail">
				<h2 class="dashboarddetailpanel">Dashbboard Graphs here</h2>
			</div>
			<div id="dashboardnav" class="dashboardnav">
				<h2 class="dashboardlocationpanel">Location Selector here</h2>
			</div>
		</div>
    </script>
	
    <script id="userTemplate" type="text/x-handlebars-template">
		<div id="user-info">
			<small>
				<strong>{{Username}}: </strong>
				<em>
				{{#roles Roles}}{{Name}}
				{{else}}
					No roles assigned
				{{/roles}}
				</em>
			</small>
		</div>
    </script>
	
	
	<!-- JAVASCRIPT -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="js/lib/jquery-1.7.2.min.js"><\/script>')</script>
	<script src="js/lib/jquery.address-1.4.min.js"></script>
	<script src="js/lib/jquery.json-2.3.min.js"></script>
	<script src="js/lib/knockout-2.0.0.js"></script>
	<script src="js/lib/handlebars-1.0.0.beta.6.js"></script>
	
	<!-- must point to the hub -->
	<!--
	<script src="http://12.109.108.80:8181/nowjs/now.js"></script>
	-->
	<script src="http://ec2-107-20-35-240.compute-1.amazonaws.com:3000/nowjs/now.js"></script>	
	 
	<!--
	<script src="js/hub/cai.hubServerMock.js"></script>
	-->
	
	<script src="js/hub/cai.hubClient.js"></script>
	
	<script src="js/utils/cai.log.js"></script>
	<script src="js/models/cai.userIdentity.js"></script>
	<script src="js/viewmodels/cai.appViewModel.js"></script>
	<script src="js/viewmodels/cai.logonViewModel.js"></script>
	<script src="js/viewmodels/cai.roleViewModel.js"></script>
	<script src="js/app.js"></script>
  
</body>
</html>